This sample is mostly used as unit test for most of the hardware devices
features.

It looks a bit convoluted, and it's not a particularly good example.
